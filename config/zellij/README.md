# Zellij Configuration

This directory contains Zellij terminal multiplexer configuration files.

## Files

### Version Controlled Files
- **`zellij.kdl`** - Base Zellij configuration (UI, keybinds, shell settings)
- **`sync-env.sh`** - Environment synchronization script
- **`layouts/`** - Zellij layout files (if any)

### Generated Files (Git Ignored)
- **`config.kdl`** - Final Zellij configuration (environment + base config)
- **`config.kdl.backup`** - Backup files created during sync

## Quick Usage

### Update Environment Variables
```bash
# 1. Edit the YAML source
vim ../env/base.yaml

# 2. Sync environment to Zellij
./sync-env.sh

# 3. Restart Zellij
zellij kill-all-sessions && zellij
```

### Update Secrets
```bash
# 1. Edit secrets
vim ../env/secret.yaml

# 2. Sync to Zellij
./sync-env.sh

# 3. Restart Zellij
zellij kill-all-sessions && zellij
```

### Update Zellij-Specific Settings
```bash
# 1. Edit the base configuration
vim zellij.kdl

# 2. Regenerate final config
./sync-env.sh

# 3. Restart Zellij
zellij kill-all-sessions && zellij
```

### Sync All Tools at Once
```bash
cd ../env && ./sync-all.sh
```

## Configuration Management

Zellij configuration is split into two parts:

1. **Environment variables** - Managed in `../env/base.yaml` and `../env/secret.yaml`
2. **Zellij-specific settings** - Managed in `zellij.kdl`

The final `config.kdl` is generated by merging both.

### What Goes Where
- **Environment variables** → `../env/base.yaml`
- **Secret variables** → `../env/secret.yaml`
- **UI settings** → `zellij.kdl`
- **Keybindings** → `zellij.kdl`
- **Shell settings** → `zellij.kdl`
- **Plugin configurations** → `zellij.kdl`

## Important Notes

- **DO NOT** edit `config.kdl` directly - it will be overwritten
- **DO NOT** commit `config.kdl` - it's generated
- Environment variables should be added to the YAML files
- UI, keybinds, and Zellij-specific settings go in `zellij.kdl`
- Zellij only supports single configuration file (no includes)

## Adding New Configurations

### Add Environment Variable
1. Edit `../env/base.yaml`
2. Add to appropriate section
3. Run `./sync-env.sh`

### Add Secret
1. Edit `../env/secret.yaml`
2. Add to appropriate section
3. Run `./sync-env.sh`

### Add Keybinding or UI Setting
1. Edit `zellij.kdl` directly
2. Run `./sync-env.sh` to regenerate final config
3. Restart Zellij

### Add Layout
1. Create layout file in `layouts/` directory
2. Reference in `zellij.kdl` if needed as default layout
